{"ast":null,"code":"var _jsxFileName = \"/Users/nco/Documents/GitHub/dashboard/src/pages/StaPage.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { load } from '../store/actions/statera';\nimport PageHeader from '../Components/PageHeader/PageHeader';\nimport classes from './PoolPage.module.scss';\nimport cx from 'classnames';\nimport Metric from '../Components/Metric/Metric';\nimport TokenIcon from '../Components/TokenIcon/TokenIcon';\nimport { Chart } from 'react-google-charts';\nimport _ from 'lodash';\nimport SegmentedTabs from '../Components/SegmentedTabs/SegmentedTabs';\nimport { genFormattedNumber } from '../util/numberFormat';\n\nconst StaPage = () => {\n  const dispatch = useDispatch();\n  const [chartType, setChartType] = useState('price');\n  const [chartTimePeriod, setChartTimePeriod] = useState('1_day');\n  useEffect(() => {\n    dispatch(load());\n  }, [dispatch]);\n\n  const handleChartTypeTab = value => {\n    setChartType(value);\n  };\n\n  const handleChartTimePeriodTab = value => {\n    setChartTimePeriod(value);\n  };\n\n  const stateraState = useSelector(state => state.statera);\n\n  if (stateraState.meta.success) {\n    const staSupply = genFormattedNumber(stateraState.supply.remainingSta.toFixed(0));\n    const wStaSupply = genFormattedNumber(stateraState.supply.remainingWSta.toFixed(0));\n    const staSupplyProgress = stateraState.supply.remainingSta.div(stateraState.supply.total);\n    const wStaSupplyProgress = stateraState.supply.remainingWSta.div(stateraState.supply.remainingSta);\n    const staExchangeRate = stateraState.exchangeRate.staToWSta;\n    const wStaExchangeRate = stateraState.exchangeRate.wStaToSta; // Transform chart data by period\n\n    let chartPriceData;\n    let chartVolumeData;\n\n    switch (chartTimePeriod) {\n      case \"1_day\":\n        {\n          chartPriceData = _.takeRight(stateraState.chart.price, 24);\n          chartVolumeData = _.takeRight(stateraState.chart.volume, 24);\n          break;\n        }\n\n      case \"7_day\":\n        {\n          chartPriceData = _.takeRight(stateraState.chart.price, 168);\n          chartVolumeData = _.takeRight(stateraState.chart.volume, 168);\n          break;\n        }\n\n      case \"30_day\":\n        {\n          chartPriceData = stateraState.chart.price;\n          chartVolumeData = stateraState.chart.volume;\n          break;\n        }\n    }\n\n    let chartData;\n\n    if (chartType === 'price') {\n      chartData = [['Datetime', 'Price'], ...chartPriceData];\n    } else if (chartType === 'volume') {\n      chartData = [['Datetime', 'Volume'], ...chartVolumeData];\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dashboardContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(PageHeader, {\n      title: \"Statera (STA)\",\n      price: genFormattedNumber(stateraState.price.sta.current, 4),\n      priceChangePerc: genFormattedNumber(stateraState.price.sta.changePerc, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dashboard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dashboardLeft,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(classes.chartCard, classes.card),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.chartContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Chart, {\n      width: '100%',\n      height: '400px',\n      chartType: \"LineChart\",\n      loader: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 29\n        }\n      }, \"Loading Chart\"),\n      data: chartData,\n      options: {\n        legend: 'none',\n        chartArea: {\n          left: 40,\n          top: 20,\n          width: '90%',\n          height: '90%'\n        },\n        hAxis: {\n          textPosition: 'none',\n          gridlines: {\n            color: 'transparent'\n          },\n          textStyle: {\n            fontName: 'Inter',\n            fontSize: 13,\n            fontWeight: 600,\n            color: '#595e78'\n          }\n        },\n        vAxis: {\n          format: 'currency',\n          gridlines: {\n            color: '#e6e6f0'\n          },\n          minorGridlines: {\n            color: 'transparent'\n          },\n          textStyle: {\n            fontName: 'Inter',\n            fontSize: 13,\n            fontWeight: 600,\n            color: '#595e78'\n          }\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.chartActions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.typeTabContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(SegmentedTabs, {\n      items: [{\n        text: 'Price',\n        value: 'price'\n      }, {\n        text: 'Volume',\n        value: 'volume'\n      }],\n      value: chartType,\n      onInput: handleChartTypeTab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.timePeriodTabContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(SegmentedTabs, {\n      items: [{\n        text: '1D',\n        value: '1_day'\n      }, {\n        text: '7D',\n        value: '7_day'\n      }, {\n        text: '30D',\n        value: '30_day'\n      }],\n      value: chartTimePeriod,\n      onInput: handleChartTimePeriodTab,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.dashboardRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(classes.supply, classes.card),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Metric, {\n      className: classes.metric,\n      label: \"Remaining Supply\",\n      valueItems: [{\n        value: staSupply,\n        unit: 'STA'\n      }],\n      progressPerc: staSupplyProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Metric, {\n      className: classes.metric,\n      label: \"Supply Wrapped\",\n      valueItems: [{\n        value: wStaSupply,\n        unit: 'wSTA'\n      }],\n      progressPerc: wStaSupplyProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(classes.volume, classes.card),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Metric, {\n      className: classes.metric,\n      label: \"Volume (24h)\",\n      valueItems: [{\n        value: genFormattedNumber(stateraState.volume.inSta, 0),\n        unit: 'STA'\n      }, {\n        value: genFormattedNumber(stateraState.volume.inCurrency),\n        unit: 'USD'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx(classes.exchangeRate, classes.card),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Metric, {\n      className: classes.metric,\n      label: \"Exchange Rate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRowIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TokenIcon, {\n      token: \"STA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRowText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }\n    }, `1 STA = ${genFormattedNumber(staExchangeRate, 2)} WSTA`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRowIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TokenIcon, {\n      token: \"WSTA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.exchangeRateRowText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, `1 WSTA = ${genFormattedNumber(wStaExchangeRate, 2)} STA`))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.wallet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 12\n      }\n    }, \"Loading\");\n  }\n};\n\nexport default StaPage;","map":{"version":3,"sources":["/Users/nco/Documents/GitHub/dashboard/src/pages/StaPage.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","load","PageHeader","classes","cx","Metric","TokenIcon","Chart","_","SegmentedTabs","genFormattedNumber","StaPage","dispatch","chartType","setChartType","chartTimePeriod","setChartTimePeriod","handleChartTypeTab","value","handleChartTimePeriodTab","stateraState","state","statera","meta","success","staSupply","supply","remainingSta","toFixed","wStaSupply","remainingWSta","staSupplyProgress","div","total","wStaSupplyProgress","staExchangeRate","exchangeRate","staToWSta","wStaExchangeRate","wStaToSta","chartPriceData","chartVolumeData","takeRight","chart","price","volume","chartData","container","dashboardContainer","sta","current","changePerc","dashboard","dashboardLeft","chartCard","card","chartContainer","legend","chartArea","left","top","width","height","hAxis","textPosition","gridlines","color","textStyle","fontName","fontSize","fontWeight","vAxis","format","minorGridlines","chartActions","typeTabContainer","text","timePeriodTabContainer","dashboardRight","metric","unit","inSta","inCurrency","exchangeRateRow","exchangeRateRowIcon","exchangeRateRowText","wallet"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { load } from '../store/actions/statera'\r\nimport PageHeader from '../Components/PageHeader/PageHeader'\r\nimport classes from './PoolPage.module.scss'\r\nimport cx from 'classnames'\r\nimport Metric from '../Components/Metric/Metric'\r\nimport TokenIcon from '../Components/TokenIcon/TokenIcon'\r\nimport { Chart } from 'react-google-charts'\r\nimport _ from 'lodash'\r\nimport SegmentedTabs from '../Components/SegmentedTabs/SegmentedTabs'\r\nimport { genFormattedNumber } from '../util/numberFormat'\r\n\r\n\r\nconst StaPage: FunctionComponent<void> = () => {\r\n  const dispatch = useDispatch()\r\n  const [chartType, setChartType] = useState('price')\r\n  const [chartTimePeriod, setChartTimePeriod] = useState('1_day')\r\n\r\n  useEffect(() => {\r\n    dispatch(load())\r\n  }, [dispatch])\r\n\r\n  const handleChartTypeTab = (value:string) => {\r\n    setChartType(value)\r\n  }\r\n\r\n  const handleChartTimePeriodTab = (value:string) => {\r\n    setChartTimePeriod(value)\r\n  }\r\n\r\n  const stateraState = useSelector((state:any) => state.statera)\r\n\r\n  if (stateraState.meta.success) {\r\n    const staSupply = genFormattedNumber(stateraState.supply.remainingSta.toFixed(0));\r\n    const wStaSupply = genFormattedNumber(stateraState.supply.remainingWSta.toFixed(0));\r\n\r\n    const staSupplyProgress = stateraState.supply.remainingSta.div(stateraState.supply.total)\r\n    const wStaSupplyProgress = stateraState.supply.remainingWSta.div(stateraState.supply.remainingSta)\r\n\r\n    const staExchangeRate = stateraState.exchangeRate.staToWSta\r\n    const wStaExchangeRate = stateraState.exchangeRate.wStaToSta\r\n\r\n    // Transform chart data by period\r\n    let chartPriceData\r\n    let chartVolumeData\r\n    switch (chartTimePeriod) {\r\n      case \"1_day\": {\r\n        chartPriceData = _.takeRight(stateraState.chart.price, 24)\r\n        chartVolumeData = _.takeRight(stateraState.chart.volume, 24)\r\n        break;\r\n      }\r\n\r\n      case \"7_day\": {\r\n        chartPriceData = _.takeRight(stateraState.chart.price, 168)\r\n        chartVolumeData = _.takeRight(stateraState.chart.volume, 168)\r\n        break;\r\n      }\r\n\r\n      case \"30_day\": {\r\n        chartPriceData = stateraState.chart.price\r\n        chartVolumeData = stateraState.chart.volume\r\n        break;\r\n      }\r\n    }\r\n\r\n    let chartData\r\n    if (chartType === 'price') {\r\n      chartData = [\r\n        ['Datetime', 'Price'],\r\n        ...chartPriceData,\r\n      ]\r\n    } else if (chartType === 'volume') {\r\n      chartData = [\r\n        ['Datetime', 'Volume'],\r\n        ...chartVolumeData,\r\n      ]\r\n    }\r\n\r\n\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.dashboardContainer}>\r\n          <PageHeader\r\n            title=\"Statera (STA)\"\r\n            price={genFormattedNumber(stateraState.price.sta.current, 4)}\r\n            priceChangePerc={genFormattedNumber(stateraState.price.sta.changePerc, 2)}\r\n          />\r\n\r\n          <div className={classes.dashboard}>\r\n            <div className={classes.dashboardLeft}>\r\n              <div className={cx(classes.chartCard, classes.card)}>\r\n                <div className={classes.chartContainer}>\r\n                  <Chart\r\n                    width={'100%'}\r\n                    height={'400px'}\r\n                    chartType=\"LineChart\"\r\n                    loader={<div>Loading Chart</div>}\r\n                    data={chartData}\r\n                    options={{\r\n                      legend: 'none',\r\n                      chartArea: {\r\n                        left: 40,\r\n                        top: 20,\r\n                        width: '90%',\r\n                        height: '90%',\r\n                      },\r\n                      hAxis: {\r\n                        textPosition: 'none',\r\n                        gridlines: {\r\n                          color: 'transparent'\r\n                        },\r\n                        textStyle: {\r\n                          fontName: 'Inter',\r\n                          fontSize: 13,\r\n                          fontWeight: 600,\r\n                          color: '#595e78',\r\n                        },\r\n                      },\r\n                      vAxis: {\r\n                        format: 'currency',\r\n                        gridlines: {\r\n                          color: '#e6e6f0'\r\n                        },\r\n                        minorGridlines: {\r\n                          color: 'transparent'\r\n                        },\r\n                        textStyle: {\r\n                          fontName: 'Inter',\r\n                          fontSize: 13,\r\n                          fontWeight: 600,\r\n                          color: '#595e78',\r\n                        },\r\n                      },\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classes.chartActions}>\r\n                  <div className={classes.typeTabContainer}>\r\n                    <SegmentedTabs\r\n                      items={[{\r\n                        text: 'Price',\r\n                        value: 'price',\r\n                      }, {\r\n                        text: 'Volume',\r\n                        value: 'volume',\r\n                      }]}\r\n                      value={chartType}\r\n                      onInput={handleChartTypeTab}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className={classes.timePeriodTabContainer}>\r\n                    <SegmentedTabs\r\n                      items={[{\r\n                        text: '1D',\r\n                        value: '1_day',\r\n                      }, {\r\n                        text: '7D',\r\n                        value: '7_day',\r\n                      }, {\r\n                        text: '30D',\r\n                        value: '30_day',\r\n                      }]}\r\n                      value={chartTimePeriod}\r\n                      onInput={handleChartTimePeriodTab}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={classes.dashboardRight}>\r\n              <div className={cx(classes.supply, classes.card)}>\r\n                <Metric\r\n                  className={classes.metric}\r\n                  label=\"Remaining Supply\"\r\n                  valueItems={[{\r\n                    value: staSupply,\r\n                    unit: 'STA',\r\n                  }]}\r\n                  progressPerc={staSupplyProgress}\r\n                />\r\n\r\n                <Metric\r\n                  className={classes.metric}\r\n                  label=\"Supply Wrapped\"\r\n                  valueItems={[{\r\n                    value: wStaSupply,\r\n                    unit: 'wSTA',\r\n                  }]}\r\n                  progressPerc={wStaSupplyProgress}\r\n                />\r\n              </div>\r\n\r\n              <div className={cx(classes.volume, classes.card)}>\r\n                <Metric\r\n                  className={classes.metric}\r\n                  label=\"Volume (24h)\"\r\n                  valueItems={[{\r\n                    value: genFormattedNumber(stateraState.volume.inSta, 0),\r\n                    unit: 'STA',\r\n                  }, {\r\n                    value: genFormattedNumber(stateraState.volume.inCurrency),\r\n                    unit: 'USD',\r\n                  }]}\r\n                />\r\n              </div>\r\n\r\n              <div className={cx(classes.exchangeRate, classes.card)}>\r\n                <Metric\r\n                  className={classes.metric}\r\n                  label=\"Exchange Rate\"\r\n                >\r\n                  <div className={classes.exchangeRateRow}>\r\n                    <div className={classes.exchangeRateRowIcon}>\r\n                      <TokenIcon token=\"STA\" />\r\n                    </div>\r\n                    <div className={classes.exchangeRateRowText}>\r\n                      { `1 STA = ${genFormattedNumber(staExchangeRate, 2) } WSTA` }\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className={classes.exchangeRateRow}>\r\n                    <div className={classes.exchangeRateRowIcon}>\r\n                      <TokenIcon token=\"WSTA\" />\r\n                    </div>\r\n                    <div className={classes.exchangeRateRowText}>\r\n                      { `1 WSTA = ${genFormattedNumber(wStaExchangeRate, 2) } STA` }\r\n                    </div>\r\n                  </div>\r\n                </Metric>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classes.wallet}>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  } else {\r\n    return <div>Loading</div>\r\n  }\r\n}\r\n\r\nexport default StaPage\r\n"]},"metadata":{},"sourceType":"module"}